.history-root {
  display: grid;
  gap: 2rem;
  padding: 0rem;
}

.history-year-section {
  margin: 0 auto;
  max-width: 1240px;
  min-height: auto;
}

.box-lined {
  padding: 1rem 1rem;
}

.history-year-section.is-open .history-year-header h2 {
  color: #004080;
  text-shadow: 0 1px 0 rgba(0,0,0,0.04);
}

.history-year-section.is-closed .history-year-header h2 {
  color: #00408079;
}

/* Click affordance for closed sections only */
.history-year-section.is-closed {
  cursor: pointer;
}

.history-year-section.is-closed .history-year-header h2 {
  text-decoration-color: rgba(15,23,42,0.18);
}

.history-year-header {
  margin: 0 0 1.25rem 0;
  padding: 1rem 0rem 0rem 0.5rem;
}

/* Collapsible container */
.history-items-collapsible {
  overflow: hidden;
  transition: grid-template-rows 1.5s ease, opacity 0.35s ease, transform 0.35s ease;
  display: grid;
}

/* Open = natural height via auto rows trick; Closed = zero height, faded, slightly scaled */
.history-items-collapsible.open {
  grid-template-rows: 1fr;
  opacity: 1;
  transform: translateY(0);
}

.history-items-collapsible.closed {
  grid-template-rows: 0fr;
  opacity: 0.25;
  transform: translateY(-8px);
}

/* Inner grid wrapped in a min-content row so the outer can animate */
.history-items-collapsible > .history-items-grid {
  overflow: hidden;
}

.history-items-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 1rem;
}

/* Responsive columns: 4 on desktop, 3 on tablet, 2 on mobile */
.history-item {
  grid-column: span 4;
}

/* Image cards */
.history-item-link {
  display: block;
  text-decoration: none;
  color: inherit;
}

.history-item-image-figure {
  margin: 0;
  display: grid;
  grid-template-rows: auto min-content;
  background: #fff;
  border-radius: 24px;
  overflow: hidden;
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.history-item-image-figure:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 24px rgba(0,0,0,0.12);
}

.history-item-image {
  width: 100%;
  height: 300px;
  object-fit: cover;
  display: block;
}

.history-item-caption {
  padding: 0.75rem 1rem;
  font-weight: 600;
}

/* Text cards */
.history-item-text {
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
  padding: 1rem 1.25rem;
  min-height: 310px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.history-item-text.boxed {
  border: 2px solid #ffffff;
}

.history-item-title {
  margin: 0 0 0.5rem 0;
  font-size: 1.125rem;
  font-weight: 700;
}

.history-item-body {
  margin: 0;
  line-height: 1.5;
}

/* Large screen modifications - show two sections open */
@media (min-width: 1024px) {
  .history-item { grid-column: span 3; }

  .history-year-section.is-open {
    min-height: auto;
  }
  
  .history-year-section.is-closed {
    min-height: auto;
    opacity: 0.6;
    transform: scale(0.98);
    transition: opacity 0.3s ease, transform 0.3s ease;
  }
  
  .history-year-section.is-closed:hover {
    opacity: 0.8;
    transform: scale(1);
  }
  
  /* Adjust spacing for better visual separation when multiple sections are open */
  .history-root {
    gap: 1.5rem;
  }
  
  .history-year-section {
    margin: 0 auto 1rem auto;
  }
}

@media (max-width: 590px) {
  .history-item { grid-column: span 6; }
  .history-item-image { height: 180px; }
  .history-year-header { padding: 2rem 0rem 0rem 0.5rem; }
  .history-item-text { min-height: 190px; }
}
